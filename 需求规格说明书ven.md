需求规格说明书


----------


0.⽬录
1.引⾔
    1.1⽬的
    1.2背景
    1.3定义
    1.4参考⽂献
2.项⽬概述
    2.1产品背景
    2.2产品描述
    2.3产品功能
    2.4假设与约束
        2.4.1假设
        2.4.2约束
3.具体需求
    3.1外部接⼝需求
        3.1.1⽤户接⼝
        3.1.2硬件接⼝
        3.1.3软件接⼝
        3.1.4通信接⼝
    3.2硬件软件方面限制
    	3.2.1   硬件配置
    	3.2.2   软件配置
    3.3功能需求
        3.3.1解析并显示CAN信号数据
        3.3.2显示物理信号值
        3.3.3显示物理值曲线
        3.3.4指定信息并设定CAN值
        3.3.5完成CAN信号数据解析及CAN发送信号合成
        3.3.6UML类图
    3.4数据库需求
    3.5属性
        3.5.1可⽤性
        3.5.2安全性
        3.5.3可维护性
4.验证验收标准
    4.1⽂档验收标准
    4.2软件验收标准
    4.3界⾯验收标准
    4.4功能验收标准

1.引⾔
1.1⽬的
为明确软件需求、安排项⽬规划与进度、组织软件开发与测试，撰写本
⽂档。 该⽂档详尽说明了这⼀软件产品的需求和规格，这些规格说明是进
⾏设计开发⼯作的基础和编写测试的主要依据以及验收的标准。

该⽂档⾯向的读者：

项⽬经理：项⽬经理根据该⽂档了解预期产品的功能，并据此进⾏系
统设计
设计员：对需求进⾏分析，并设计出系统，包括数据库的设计
程序员：了解系统功能，开发编码
测试员：根据本⽂档对软件产品进⾏功能性测试和⾮功能性测试
⽤户：了解预期产品的功能和性能，并与分析⼈员⼀起对整个需求进
⾏讨论和协商

1.2背景
软件名称：CanToolApp
项⽬开发者：天津⼤学2017级现代软件⼯程14组

根据《CanToolApp Problem Statement》文档，通过小组多次讨论后得出大致需求。

1.3定义
序号   	缩写 	  定义
1   	ECU	   电子控制装置
2     	CAN	   网络连接的一种途径


1.4参考⽂献
《福州大学SWSD小组计算机软件需求规格说明规范》



2.项⽬概述

2.1产品背景
    在现代汽车控制技术中，汽车中会使用多个电子控制装置（ECU：Electronic Control Unit）对整车进行控制。而ECU之间的信息交换更多地依赖于CAN(Controller Area Network)总线的网络连接方式来完成。为了检测和控制CAN bus的信息内容，需要使用CAN bus检测设备。

2.2产品描述
    CanToolApp,用于实现CAN护具的显示和控制，完成CANbus检测。该软件需要将连接在CAN总线上的CanTool装置采集的CAN信息发送到上位机（移动终端Android、iOS、Windows PC），并由运行在上位机中的CanToolApp软件接收这些信息，显示在用户图形界面上。同时在CanToolApp的界面上还可以设定CAN信息，通过GUI按钮将信息发送给CanTool装置，CanTool装置将按照规定的信息格式，将信息发送的CAN总线上。

2.3产品功能
    CanToolApp使用GUI界面对接收和发送的CAN信息进行显示。需要根据CAN信息及信号描述数据库对接收到的数据字符串进行解析，然后得到CAN信息中包含的各种CAN信号值，将此CAN信号值进一步进行计算，还原该信号所代表的物理量的信息，并显示在GUI界面上。要发送的CAN信息也采用同种方式将用户输入的物理值转换为CAN信号，并依据CAN信号描述数据库将属于同一个CANID的信号合成为字符串发送给CanTool装置。
CanToolApp可以设定CAN总线的通信参数，并通过相应的命令设置CanTool装置的CAN通信参数，以使CanTool装置能够与CAN总线上的其他被测ECU进行正常的通信。CanTool装置与上位机通过USB串口或蓝牙RFComm实现UART串口通信。与上位机连接的串口号需要用户选择，串口的波特率固定为115200BPS，8个数据位，1个停止位。

2.4假设与约束
2.4.1假设
可操作性：假设使⽤本产品的⽤户在经过⼀段时间的熟悉后，可以灵活地操作本产品

⽤户⽀持：假设本产品开发的各个环节中得到⽤户的有效⽀持和积极配合

技术⽀持：假设开发初期，项⽬架构设计合理，⼩组成员充分认识本产品的需求，认真学习相关知识。开发过程中遇到的技术问题可以及时得到⽼师的指导与帮助。开发后期，团队熟练掌握适⽤于该项⽬的技术，充分优化系统性能

⼈员配合：假设团队成员的积极合作配合，为了项⽬的开发和实施，能够合理规划个⼈时间，并且在必要时，能为团队做出合理牺牲，配合队友完成任务。若⼩组成员变动，新旧成员能够出⾊地交接和快速了解项⽬、投⼊开发；若⼩组成员⽆变动，则假设项⽬开发过程中不会有突发情况导致项⽬成员⽆法正常参与开发⼯作
时间限定：假设项⽬截⽌⽇期不会提前
需求限定：假设项⽬需求确定后不会有太⼤改动

2.4.2约束
⼈员约束：团队成员皆为研一学⽣，共 4 ⼈
管理约束：本次开发实⾏以⼀⼈担任组⻓，分⼯合作的模式进⾏。⼒求每个⼈的分⼯涉及开发过程中的所有流程，并按照进度表进⾏，开发过程遇到的问题通过⼩组会议得到⼀致解决。⼩组成员⾸次合作，需要⼀个磨合的过程，需要明确⾃身责任，分清各⾃任务，互相配合，遇到问题组⻓必须能进⾏有效的协调，才能快速、较好地完成开发过程
技术约束：⼩组成员在相关技术⽔平⽅⾯存在⼀定的⽋缺，缺乏相关的项⽬经验，需要在开发中并发学习多种技术和能⼒；在⽂档编写能⼒⽅⾯也有待提升
时间约束：本项⽬开发周期短，时间相对紧张，两个⽉的开发时间需要开发者合理规划时间，做到多项任务并发
其他约束：开发期间，⼩组成员还有其他科⽬的学习任务，将对项⽬进度造成⼀定影响




3.具体需求
3.1外部接⼝需求
3.1.1⽤户接⼝
⽆特殊需求。
3.1.2硬件接⼝
⼿机系统需要 Android 4.0 及以上。
3.1.3软件接⼝
⽆特殊需求。
3.1.4通信接⼝
蓝牙4.0

3.2 软件硬件操作系统等方面的限制
3.2.1 硬件配置
项目	信息
处理器	英特尔 第四代酷睿 i7-4710MQ @ 2.50GHz 四核
主板	Type2 - Board Vendor Name1 Type2 - Board Product Name1
内存	 8 GB ( 三星 DDR3L 1600MHz )
主硬盘	日立 HGST HTS721010A9E630 ( 1 TB / 7200 转/分 )
显卡	英特尔 HD Graphics 4600 ( 64 MB / 广达 )
显示器	友达 AUO133D ( 14 英寸  )
 声卡	瑞昱  @ 英特尔 Lynx Point  高保真音频
网卡	瑞昱 RTL8168/8111/8112 Gigabit Ethernet Controller / 广达

3.2.2 软件配置
项目	信息
操作系统	Windows 10
开发软件	Android Studio 2.3.3


3.3 功能需求
3.3.1 解析并显示CAN信号数据
用例名称：解析并显示CAN信号数据
执行者：用户
前置条件：接收到多个CAN信号
场景：对接收到的多个CAN信息，通过CAN信息及CAN信号数据库进行解析，将CAN信息原始数据进行显示。并能对CAN信息中的CAN信号的物理值实时数据进行显示。
后置条件：显示物理信号值    显示物理值曲线

3.3.2 显示物理信号值
用例名称：显示物理信号值
执行者：用户
前置条件：解析CAN信号数据
场景：显示时让用户选择仪表盘方式显示接收到CAN信号物理值。这些用户选择的显示方式可保存到CanToolApp设定文件中，供下次使用。
后置条件：无

3.3.3 显示物理值曲线
用例名称：显示物理值曲线
执行者：用户
前置条件：解析CAN信号值
场景：让用户选择某些接收到的CAN信号，显示其变化的实时物理值曲线
后置条件：无

3.3.4 指定信息并设定CAN值
用例名称：指定信息并设定CAN值
执行者：用户
前置条件：接收到CAN数据
场景：将接收到的所有CAN信息数据，实时保存为数据文件。格式为CSV格式，或自定义。
后置条件：确定CAN值及发送周期

3.3.5 完成CAN信号数据解析及CAN发送信号合成
用例名称：完成CAN信号数据解析及CAN发送信号合成
执行者：用户
前置条件：设定CAN值
场景：将用户设定的物理值转换为CAN信号值，将CAN信息中包含的所有CAN信号合成完整的CAN信息后，发送给CanTool装置，发送到CAN总线上。
后置条件：CAN信号完整并发送到总线
3.3.6 UML 包图






3.4 数据库需求

字段		数据类型
UUID	messageUUID	String
信息ID	messageId	Integer
信号名称	signalName	String
物理值	realValue	Double
时间	date	Date


3.5属性
3.5.1可⽤性

界⾯优美，操作简单。

稳定性：迭代开发，不断更新版本，修复 Bug，使系统更稳定

并发性：能够保证⼀定数量的⽤户同时在线使⽤

容错能⼒：系统具有⼀定的容错能⼒，⾮硬件或通讯故障均能保持运
⾏

3.5.2安全性

故障处理：系统应能够记录错误信息、⽣成错误⽇志，并及时恢复现
场
安全存储：数据库保存在服务器端，定期备份，确保数据不丢失

3.5.3可维护性

使⽤ Github 进⾏源码管理，保留各版本的源代码
⽂档及代码均遵循事先预定的规范
提供⽤户反馈渠道，确保及时发现和修复 Bug





4.验证验收标准
4.1⽂档验收标准
⽂档编写符合国际⽂档编写规范。

软件需求规格说明书
项⽬开发计划书

4.2软件验收标准
软件⼀切功能正常，运⾏流畅，不卡顿，不闪退。对⼤部分 Android
⼿机适配。

移动端（Android ⽤于⽤户体验）
服务器端（⽤于⽀持移动端正常运⾏）

4.3界⾯验收标准
界⾯流畅，不闪退。各个界⾯之间正常切换。屏幕不出现闪烁或者部分地⽅有⿊点的现象。
⽤户界⾯：
1	主界面	最顶端显示蓝牙连接情况，右上角为蓝牙按键，有发送信息输入框和按钮，页面底栏为不同界面导航

2	数据⻚⾯	显示message，打开以后能显示信号的物理值曲线

3	发信号⻚⾯	显示message，点开以后能调节发信号的参数

4	下载⻚⾯	有两个功能按键，分别显示版本信息和打开CANTOOL
4.4 功能验收标准
需求四象限及各阶段验收标准如下：
第一象限
显示实时物理值曲线
选择仪表盘方式显示信号物理值
第二象限
保存数据文件格式为CSV或自定义
解析显示CAN信息原始数据
指定CAN信息，允许设定CAN物理值，指定发送周期
完成CAN信号数据解析及CAN发送信号合成
物理值转换为CAN信号值
CAN信息和信号数据库另存为xml和JSON
第三象限
使用树状结构显示CAN信息和信号数据库
更新至远程数据库
功能可更改
第四象限
设置CanTool，并保存至CanToolApp
搜索可使用的COM口，设定COM口的相关信息，并保存至		        CanToolApp

